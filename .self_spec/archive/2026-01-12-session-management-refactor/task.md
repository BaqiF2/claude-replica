# å®æ–½è®¡åˆ’ï¼šä¼šè¯ç®¡ç†ç³»ç»Ÿé‡æ„

## æ¦‚è¿°

é‡æ„ä¼šè¯ç®¡ç†ç³»ç»Ÿä»¥ä¸“æ³¨äºäº¤äº’æ¨¡å¼ï¼Œå®ç°ä¼šè¯æŒä¹…åŒ–ã€äº¤äº’å¼æ¢å¤ã€åˆ†å‰åŠŸèƒ½å’Œè‡ªåŠ¨æ¸…ç†æœºåˆ¶ã€‚

## Reference

- Design: [design.md](design.md)
- Specification: [spec.md](spec.md)

## ä»»åŠ¡

- [x] 1. ç§»é™¤æ—§ CLI å‚æ•°å’Œéä¸€è‡´åŠŸèƒ½
   - åˆ é™¤ `CLIParser.ts` ä¸­çš„ `resume`, `continue`, `forkSession` å‚æ•°å®šä¹‰
   - åˆ é™¤ `CLIOptions` æ¥å£ä¸­å¯¹åº”çš„å­—æ®µ
   - åˆ é™¤ `main.ts` ä¸­å¤„ç†è¿™äº›å‚æ•°çš„ä»£ç ï¼ˆ`getOrCreateSession()` ä¸­çš„åˆ†æ”¯é€»è¾‘ï¼‰
   - _Requirements: CLI å‚æ•° --resume, CLI å‚æ•° --continue, CLI å‚æ•° --fork_

- [x] 2. éªŒè¯ï¼šCLI å‚æ•°ç§»é™¤
   - è¿è¡Œ `npm run build` ç¡®ä¿ç¼–è¯‘é€šè¿‡
   - è¿è¡Œ `npm test` ç¡®ä¿ç°æœ‰æµ‹è¯•é€šè¿‡
   - æ‰‹åŠ¨æµ‹è¯• `--resume`, `--continue`, `--fork` å‚æ•°ä¸å†è¢«è¯†åˆ«
   - _Validates: CLI å‚æ•° --resume, CLI å‚æ•° --continue, CLI å‚æ•° --fork_

- [x] 3. æ‰©å±• Session æ¥å£å’Œæ•°æ®ç»“æ„
   - åœ¨ `src/core/SessionManager.ts` ä¸­å®šä¹‰ `SessionStats` æ¥å£
   - æ‰©å±• `Session` æ¥å£æ·»åŠ  `parentSessionId?: string` å’Œ `stats?: SessionStats` å­—æ®µ
   - æ‰©å±• `SessionMetadata` æ¥å£æ·»åŠ  `parentSessionId?: string` å’Œ `stats?: SessionStats` å­—æ®µ
   - _Requirements: ä¼šè¯å…ƒæ•°æ®æ‰©å±•_

- [x] 4. éªŒè¯ï¼šæ¥å£æ‰©å±•
   - ç¼–å†™å•å…ƒæµ‹è¯•éªŒè¯æ–°æ¥å£ç±»å‹å®šä¹‰æ­£ç¡®
   - è¿è¡Œ `npm run build` ç¡®ä¿ç±»å‹æ£€æŸ¥é€šè¿‡
   - _Validates: ä¼šè¯å…ƒæ•°æ®æ‰©å±•_

- [x] 5. å®ç° calculateStats() ç§æœ‰æ–¹æ³•
   - åœ¨ `SessionManager` ç±»ä¸­å®ç° `calculateStats(session: Session): SessionStats`
   - éå† `session.messages` ç´¯åŠ  token ä½¿ç”¨é‡å’Œæˆæœ¬
   - æå–æœ€åä¸€æ¡æ¶ˆæ¯çš„å‰ 80 å­—ç¬¦ä½œä¸º `lastMessagePreview`
   - _Requirements: ä¼šè¯ç»Ÿè®¡ä¿¡æ¯è®¡ç®—_

- [x] 6. éªŒè¯ï¼šcalculateStats() æ–¹æ³•
   - ç¼–å†™å•å…ƒæµ‹è¯•éªŒè¯ç»Ÿè®¡è®¡ç®—æ­£ç¡®æ€§
   - æµ‹è¯•ç©ºæ¶ˆæ¯åˆ—è¡¨åœºæ™¯
   - æµ‹è¯•åŒ…å« usage æ•°æ®çš„æ¶ˆæ¯
   - æµ‹è¯•ç¼ºå°‘ usage æ•°æ®çš„æ¶ˆæ¯
   - _Validates: ä¼šè¯ç»Ÿè®¡ä¿¡æ¯è®¡ç®—_

- [x] 7. ä¿®æ”¹ saveSession() é›†æˆç»Ÿè®¡è®¡ç®—
   - åœ¨ `saveSession()` æ–¹æ³•å¼€å¤´è°ƒç”¨ `this.calculateStats(session)`
   - å°†è®¡ç®—ç»“æœèµ‹å€¼ç»™ `session.stats`
   - ç¡®ä¿ `metadata.json` åºåˆ—åŒ–æ—¶åŒ…å« `stats` å’Œ `parentSessionId` å­—æ®µ
   - _Requirements: ä¼šè¯ç»Ÿè®¡ä¿¡æ¯è®¡ç®—, ä¼šè¯å…ƒæ•°æ®æ‰©å±•_

- [x] 8. éªŒè¯ï¼šsaveSession() ç»Ÿè®¡é›†æˆ
   - ç¼–å†™å•å…ƒæµ‹è¯•éªŒè¯ä¿å­˜æ—¶è‡ªåŠ¨è®¡ç®—ç»Ÿè®¡ä¿¡æ¯
   - éªŒè¯ `metadata.json` æ–‡ä»¶åŒ…å«å®Œæ•´çš„ `stats` å¯¹è±¡
   - æµ‹è¯•å‘åå…¼å®¹æ€§ï¼ˆæ—§ä¼šè¯ç¼ºå°‘ stats å­—æ®µï¼‰
   - _Validates: ä¼šè¯ç»Ÿè®¡ä¿¡æ¯è®¡ç®—, ä¼šè¯å…ƒæ•°æ®æ‰©å±•_

- [x] 9. å®ç° listRecentSessions() æ–¹æ³•
   - åœ¨ `SessionManager` ç±»ä¸­å®ç° `listRecentSessions(limit: number = 10): Promise<Session[]>`
   - è°ƒç”¨ `listSessions()` è·å–æ‰€æœ‰ä¼šè¯
   - æŒ‰ `createdAt` å€’åºæ’åº
   - è¿”å›å‰ `limit` ä¸ªä¼šè¯
   - _Requirements: æœ€è¿‘ä¼šè¯åˆ—è¡¨æŸ¥è¯¢_

- [x] 10. éªŒè¯ï¼šlistRecentSessions() æ–¹æ³•
   - ç¼–å†™å•å…ƒæµ‹è¯•éªŒè¯æ’åºæ­£ç¡®æ€§
   - æµ‹è¯•ä¼šè¯æ•°é‡è¶…è¿‡é™åˆ¶çš„åœºæ™¯
   - æµ‹è¯•ä¼šè¯æ•°é‡å°‘äºé™åˆ¶çš„åœºæ™¯
   - æµ‹è¯•ç©ºä¼šè¯åˆ—è¡¨åœºæ™¯
   - _Validates: æœ€è¿‘ä¼šè¯åˆ—è¡¨æŸ¥è¯¢_

- [x] 11. å®ç° forkSession() æ–¹æ³•
   - åœ¨ `SessionManager` ç±»ä¸­å®ç° `forkSession(sourceSessionId: string): Promise<Session>`
   - ä½¿ç”¨ `loadSessionInternal()` åŠ è½½æºä¼šè¯ï¼ˆä¸æ›´æ–°è®¿é—®æ—¶é—´ï¼‰
   - éªŒè¯æºä¼šè¯å­˜åœ¨ï¼Œå¦åˆ™æŠ›å‡ºé”™è¯¯
   - æ·±æ‹·è´ `messages`, `context`, `stats` å¯¹è±¡
   - è®¾ç½® `parentSessionId = sourceSessionId`
   - ä¸å¤åˆ¶ `sdkSessionId` å’Œ `snapshots` ç›®å½•
   - è°ƒç”¨ `saveSession()` ä¿å­˜æ–°ä¼šè¯
   - _Requirements: ä¼šè¯åˆ†å‰åŠŸèƒ½_

- [x] 12. éªŒè¯ï¼šforkSession() æ–¹æ³•
   - ç¼–å†™å•å…ƒæµ‹è¯•éªŒè¯æ•°æ®å¤åˆ¶å®Œæ•´æ€§
   - éªŒè¯ `parentSessionId` æ­£ç¡®è®¾ç½®
   - éªŒè¯ `sdkSessionId` æœªè¢«å¤åˆ¶
   - æµ‹è¯•åˆ†å‰ä¸å­˜åœ¨çš„ä¼šè¯æŠ›å‡ºé”™è¯¯
   - éªŒè¯ `snapshots` ç›®å½•æœªè¢«å¤åˆ¶
   - _Validates: ä¼šè¯åˆ†å‰åŠŸèƒ½_

- [x] 13. å®ç° cleanOldSessions() æ–¹æ³•
   - åœ¨ `SessionManager` ç±»ä¸­å®ç° `cleanOldSessions(keepCount: number = 10): Promise<void>`
   - è·å–æ‰€æœ‰ä¼šè¯å¹¶æŒ‰ `createdAt` å€’åºæ’åº
   - éå†ç´¢å¼• >= `keepCount` çš„ä¼šè¯ï¼Œè°ƒç”¨ `deleteSession()`
   - _Requirements: è‡ªåŠ¨ä¼šè¯æ¸…ç†_

- [x] 14. éªŒè¯ï¼šcleanOldSessions() æ–¹æ³•
   - ç¼–å†™å•å…ƒæµ‹è¯•éªŒè¯ä¿ç•™æ­£ç¡®æ•°é‡çš„ä¼šè¯
   - æµ‹è¯•ä¼šè¯æ•°é‡å°‘äºä¿ç•™æ•°é‡çš„åœºæ™¯
   - éªŒè¯æ—§ä¼šè¯è¢«åˆ é™¤ï¼Œæ–°ä¼šè¯è¢«ä¿ç•™
   - _Validates: è‡ªåŠ¨ä¼šè¯æ¸…ç†_

- [x] 15. åœ¨ Application.initialize() ä¸­é›†æˆè‡ªåŠ¨æ¸…ç†
   - åœ¨ `main.ts` çš„ `initialize()` æ–¹æ³•ä¸­æ·»åŠ æ¸…ç†é€»è¾‘
   - ä»ç¯å¢ƒå˜é‡ `SESSION_KEEP_COUNT` è¯»å–ä¿ç•™æ•°é‡ï¼ˆé»˜è®¤ 10ï¼‰
   - è°ƒç”¨ `this.sessionManager.cleanOldSessions(keepCount)`
   - _Requirements: è‡ªåŠ¨ä¼šè¯æ¸…ç†_

- [x] 16. éªŒè¯ï¼šå¯åŠ¨æ—¶è‡ªåŠ¨æ¸…ç†
   - ç¼–å†™é›†æˆæµ‹è¯•éªŒè¯å¯åŠ¨æ—¶è‡ªåŠ¨æ¸…ç†æ—§ä¼šè¯
   - æµ‹è¯•ç¯å¢ƒå˜é‡é…ç½®æœ‰æ•ˆæ€§
   - éªŒè¯å½“å‰æ´»åŠ¨ä¼šè¯ä¸è¢«åˆ é™¤
   - _Validates: è‡ªåŠ¨ä¼šè¯æ¸…ç†_

- [x] 17. å®ç° InteractiveUI.formatRelativeTime()
   - åœ¨ `InteractiveUI` ç±»ä¸­å®ç° `formatRelativeTime(date: Date): string`
   - è®¡ç®—æ—¶é—´å·®å¹¶è¿”å› "Xå°æ—¶å‰", "Xå¤©å‰" ç­‰æ ¼å¼
   - _Requirements: UI è¾…åŠ©æ ¼å¼åŒ–æ–¹æ³•_

- [x] 18. éªŒè¯ï¼šformatRelativeTime() æ–¹æ³•
   - ç¼–å†™å•å…ƒæµ‹è¯•éªŒè¯å„æ—¶é—´å•ä½çš„æ ¼å¼åŒ–
   - æµ‹è¯•å°æ—¶ã€å¤©ã€å‘¨ã€æœˆç­‰åœºæ™¯
   - _Validates: UI è¾…åŠ©æ ¼å¼åŒ–æ–¹æ³•_

- [x] 19. å®ç° InteractiveUI.formatAbsoluteTime()
   - åœ¨ `InteractiveUI` ç±»ä¸­å®ç° `formatAbsoluteTime(date: Date): string`
   - è¿”å› "YYYY-MM-DD HH:mm:ss" æ ¼å¼çš„å­—ç¬¦ä¸²
   - _Requirements: UI è¾…åŠ©æ ¼å¼åŒ–æ–¹æ³•_

- [x] 20. éªŒè¯ï¼šformatAbsoluteTime() æ–¹æ³•
   - ç¼–å†™å•å…ƒæµ‹è¯•éªŒè¯æ—¥æœŸæ ¼å¼åŒ–æ­£ç¡®æ€§
   - æµ‹è¯•ä¸åŒæ—¶åŒºåœºæ™¯
   - _Validates: UI è¾…åŠ©æ ¼å¼åŒ–æ–¹æ³•_

- [x] 21. å®ç° InteractiveUI.formatStatsSummary()
   - åœ¨ `InteractiveUI` ç±»ä¸­å®ç° `formatStatsSummary(stats?: SessionStats): string`
   - è¿”å› "(X æ¡æ¶ˆæ¯, Xk tokens, $X)" æ ¼å¼çš„å­—ç¬¦ä¸²
   - å¤„ç† `stats` ä¸º undefined çš„åœºæ™¯
   - _Requirements: UI è¾…åŠ©æ ¼å¼åŒ–æ–¹æ³•_

- [x] 22. éªŒè¯ï¼šformatStatsSummary() æ–¹æ³•
   - ç¼–å†™å•å…ƒæµ‹è¯•éªŒè¯ç»Ÿè®¡æ‘˜è¦æ ¼å¼åŒ–
   - æµ‹è¯•å®Œæ•´ stats å¯¹è±¡åœºæ™¯
   - æµ‹è¯• undefined stats åœºæ™¯
   - _Validates: UI è¾…åŠ©æ ¼å¼åŒ–æ–¹æ³•_

- [x] 23. å®ç° InteractiveUI.showSessionMenu()
   - åœ¨ `InteractiveUI` ç±»ä¸­å®ç° `showSessionMenu(sessions: Session[]): Promise<Session | null>`
   - å‚è€ƒ `showRewindMenu()` çš„å®ç°ï¼ˆlines 421-472ï¼‰
   - æ˜¾ç¤ºç¼–å·åˆ—è¡¨ï¼ˆ1-Nï¼‰å’Œå–æ¶ˆé€‰é¡¹ï¼ˆ0ï¼‰
   - æ˜¾ç¤ºä¼šè¯ ID å‰ç¼€ã€ç›¸å¯¹æ—¶é—´ã€ç»å¯¹æ—¶é—´ã€æ¶ˆæ¯é¢„è§ˆã€ç»Ÿè®¡æ‘˜è¦
   - æ”¯æŒåˆ†å‰æ ‡è®° ğŸ”€ æ˜¾ç¤ºï¼ˆæ£€æŸ¥ `parentSessionId`ï¼‰
   - æ”¯æŒæ•°å­—è¾“å…¥å’Œ Esc é”®å–æ¶ˆ
   - æ— æ•ˆè¾“å…¥æ—¶æ˜¾ç¤ºé”™è¯¯æç¤ºå¹¶é‡æ–°ç­‰å¾…
   - _Requirements: ä¼šè¯æ¢å¤äº¤äº’èœå•_

- [x] 24. éªŒè¯ï¼šshowSessionMenu() èœå•æ˜¾ç¤º
   - ç¼–å†™ç»ˆç«¯äº¤äº’æµ‹è¯•éªŒè¯èœå•æ˜¾ç¤ºæ­£ç¡®
   - éªŒè¯æ‰€æœ‰å¿…è¦ä¿¡æ¯å­—æ®µéƒ½æ˜¾ç¤º
   - éªŒè¯åˆ†å‰æ ‡è®°åœ¨æœ‰ `parentSessionId` æ—¶æ˜¾ç¤º
   - æµ‹è¯•ç”¨äºå–æ¶ˆçš„é€‰é¡¹ 0 æ˜¾ç¤º
   - _Validates: ä¼šè¯æ¢å¤äº¤äº’èœå•_

- [x] 25. éªŒè¯ï¼šshowSessionMenu() ç”¨æˆ·äº¤äº’
   - ç¼–å†™ç»ˆç«¯äº¤äº’æµ‹è¯•éªŒè¯ç”¨æˆ·è¾“å…¥å¤„ç†
   - æµ‹è¯•æœ‰æ•ˆç¼–å·è¿”å›æ­£ç¡®ä¼šè¯
   - æµ‹è¯•è¾“å…¥ 0 æˆ– Esc è¿”å› null
   - æµ‹è¯•æ— æ•ˆè¾“å…¥æ˜¾ç¤ºé”™è¯¯å¹¶é‡æ–°ç­‰å¾…
   - _Validates: ä¼šè¯æ¢å¤äº¤äº’èœå•_

- [x] 26. å®ç° Application.handleResumeCommand()
   - åœ¨ `main.ts` ä¸­å®ç° `handleResumeCommand(): Promise<void>`
   - éªŒè¯åœ¨äº¤äº’æ¨¡å¼ä¸­ï¼ˆ`this.ui` å­˜åœ¨ï¼‰ï¼Œå¦åˆ™æ˜¾ç¤ºè­¦å‘Š
   - è°ƒç”¨ `listRecentSessions(10)` è·å–æœ€è¿‘ä¼šè¯
   - å¦‚æœä¼šè¯åˆ—è¡¨ä¸ºç©ºï¼Œæ˜¾ç¤º "æ²¡æœ‰å¯ç”¨çš„ä¼šè¯" å¹¶è¿”å›
   - è°ƒç”¨ `this.ui.showSessionMenu(sessions)` æ˜¾ç¤ºèœå•
   - å¦‚æœç”¨æˆ·å–æ¶ˆï¼ˆè¿”å› nullï¼‰ï¼Œç›´æ¥è¿”å›
   - åŠ è½½é€‰ä¸­ä¼šè¯å¹¶åˆ‡æ¢ï¼ˆè°ƒç”¨ `endSession()` å’Œ `startSession()`ï¼‰
   - æ˜¾ç¤ºæˆåŠŸæç¤ºæ¶ˆæ¯
   - _Requirements: /resume Slash Command_

- [x] 27. éªŒè¯ï¼šhandleResumeCommand() æ–¹æ³•
   - ç¼–å†™å•å…ƒæµ‹è¯•éªŒè¯ä¼šè¯æ¢å¤é€»è¾‘
   - æµ‹è¯•æˆåŠŸæ¢å¤åœºæ™¯
   - æµ‹è¯•æ— å¯ç”¨ä¼šè¯åœºæ™¯
   - æµ‹è¯•ç”¨æˆ·å–æ¶ˆåœºæ™¯
   - æµ‹è¯•éäº¤äº’æ¨¡å¼è­¦å‘Šåœºæ™¯
   - _Validates: /resume Slash Command_

- [x] 28. åœ¨ handleCommand() ä¸­æ³¨å†Œ /resume
   - åœ¨ `main.ts` çš„ `handleCommand()` æ–¹æ³•çš„ switch è¯­å¥ä¸­æ·»åŠ  `case 'resume'`
   - è°ƒç”¨ `await this.handleResumeCommand()`
   - _Requirements: /resume Slash Command_

- [x] 29. éªŒè¯ï¼š/resume å‘½ä»¤é›†æˆ
   - ç¼–å†™é›†æˆæµ‹è¯•éªŒè¯å®Œæ•´ `/resume` å·¥ä½œæµ
   - æµ‹è¯•å‘½ä»¤è§£æã€èœå•æ˜¾ç¤ºã€ä¼šè¯åŠ è½½ã€åˆ‡æ¢
   - _Validates: /resume Slash Command_

- [x] 30. å®ç° Application.handleForkCommand()
   - åœ¨ `main.ts` ä¸­å®ç° `handleForkCommand(): Promise<void>`
   - éªŒè¯åœ¨äº¤äº’æ¨¡å¼ä¸­
   - è·å–å½“å‰æ´»åŠ¨ä¼šè¯ï¼ˆè°ƒç”¨ `this.streamingQueryManager.getActiveSession()`ï¼‰
   - å¦‚æœæ²¡æœ‰æ´»åŠ¨ä¼šè¯ï¼Œæ˜¾ç¤º "å½“å‰æ²¡æœ‰æ´»åŠ¨ä¼šè¯ï¼Œæ— æ³•åˆ†å‰" å¹¶è¿”å›
   - è°ƒç”¨ `forkSession(current.id)` åˆ†å‰ä¼šè¯
   - ä¿å­˜åŸä¼šè¯ï¼ˆè°ƒç”¨ `saveSession(current)`ï¼‰
   - åˆ‡æ¢åˆ°æ–°ä¼šè¯ï¼ˆè°ƒç”¨ `endSession()` å’Œ `startSession(forked)`ï¼‰
   - æ˜¾ç¤ºæˆåŠŸæç¤ºæ¶ˆæ¯ï¼ŒåŒ…å«æ–°ä¼šè¯ ID å’Œçˆ¶ä¼šè¯ ID
   - _Requirements: /fork Slash Command_

- [x] 31. éªŒè¯ï¼šhandleForkCommand() æ–¹æ³•
   - ç¼–å†™å•å…ƒæµ‹è¯•éªŒè¯åˆ†å‰é€»è¾‘
   - æµ‹è¯•æˆåŠŸåˆ†å‰åœºæ™¯
   - æµ‹è¯•æ— æ´»åŠ¨ä¼šè¯åœºæ™¯
   - æµ‹è¯•éäº¤äº’æ¨¡å¼è­¦å‘Šåœºæ™¯
   - _Validates: /fork Slash Command_

- [x] 32. åœ¨ handleCommand() ä¸­æ³¨å†Œ /fork
   - åœ¨ `main.ts` çš„ `handleCommand()` æ–¹æ³•çš„ switch è¯­å¥ä¸­æ·»åŠ  `case 'fork'`
   - è°ƒç”¨ `await this.handleForkCommand()`
   - _Requirements: /fork Slash Command_

- [x] 33. éªŒè¯ï¼š/fork å‘½ä»¤é›†æˆ
   - ç¼–å†™é›†æˆæµ‹è¯•éªŒè¯å®Œæ•´ `/fork` å·¥ä½œæµ
   - æµ‹è¯•å‘½ä»¤è§£æã€ä¼šè¯åˆ†å‰ã€ä¿å­˜ã€åˆ‡æ¢
   - _Validates: /fork Slash Command_

- [x] 34. ä¿®æ”¹ runNonInteractive() ç§»é™¤æŒä¹…åŒ–
   - åœ¨ `main.ts` çš„ `runNonInteractive()` æ–¹æ³•ä¸­åˆ é™¤ `getOrCreateSession(options)` è°ƒç”¨
   - åˆ›å»ºä¸´æ—¶ä¼šè¯å¯¹è±¡ï¼ˆID æ ¼å¼ `temp-${Date.now()}`ï¼‰
   - ä½¿ç”¨ä¸´æ—¶ä¼šè¯æ‰§è¡ŒæŸ¥è¯¢
   - åˆ é™¤æŸ¥è¯¢å®Œæˆåçš„ `saveSession()` è°ƒç”¨
   - ç¡®ä¿ä¸åœ¨ç£ç›˜åˆ›å»ºä¼šè¯ç›®å½•
   - _Requirements: éäº¤äº’æ¨¡å¼æ— æŒä¹…åŒ–_

- [x] 35. éªŒè¯ï¼šéäº¤äº’æ¨¡å¼æ— æŒä¹…åŒ–
   - ç¼–å†™é›†æˆæµ‹è¯•éªŒè¯éäº¤äº’æ¨¡å¼ä¸åˆ›å»ºä¼šè¯æ–‡ä»¶
   - æ‰§è¡ŒæŸ¥è¯¢åæ£€æŸ¥ä¼šè¯ç›®å½•ä¸å­˜åœ¨
   - éªŒè¯æŸ¥è¯¢ç»“æœæ­£ç¡®è¾“å‡º
   - æµ‹è¯•è¿”å›å€¼æ­£ç¡®ï¼ˆ0 æˆ– 1ï¼‰
   - _Validates: éäº¤äº’æ¨¡å¼æ— æŒä¹…åŒ–_

- [x] 36. æ›´æ–° CLIParser å¸®åŠ©æ–‡æœ¬
   - åœ¨ `CLIParser.ts` ä¸­æ›´æ–°å¸®åŠ©æ–‡æœ¬
   - ç§»é™¤æ—§çš„ CLI å‚æ•°è¯´æ˜ï¼ˆ`--resume`, `-c`, `--fork`ï¼‰
   - æ·»åŠ äº¤äº’æ¨¡å¼å‘½ä»¤è¯´æ˜ï¼ˆ`/resume`, `/fork`ï¼‰
   - æ˜ç¡®è¯´æ˜è¿™äº›å‘½ä»¤ä»…åœ¨äº¤äº’æ¨¡å¼ä¸­å¯ç”¨
   - _Requirements: CLI å‚æ•° --resume, CLI å‚æ•° --continue, CLI å‚æ•° --fork_

- [x] 37. éªŒè¯ï¼šå¸®åŠ©æ–‡æœ¬æ­£ç¡®æ€§
   - è¿è¡Œ `bordeaux --help` æŸ¥çœ‹å¸®åŠ©æ–‡æœ¬
   - éªŒè¯æ—§å‚æ•°ä¸å†æ˜¾ç¤º
   - éªŒè¯æ–°å‘½ä»¤è¯´æ˜æ¸…æ™°å‡†ç¡®
   - _Validates: CLI å‚æ•° --resume, CLI å‚æ•° --continue, CLI å‚æ•° --fork_

- [x] 38. æ·»åŠ ç¯å¢ƒå˜é‡é…ç½®
   - åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ `.env`å’Œ`.envã€‚example` æ–‡ä»¶ä¸­æ·»åŠ  `SESSION_KEEP_COUNT=10` é…ç½®
   - åœ¨ `main.ts` ä¸­è¯»å–ç¯å¢ƒå˜é‡å¹¶ä¼ é€’ç»™ `cleanOldSessions()`
   - _Requirements: è‡ªåŠ¨ä¼šè¯æ¸…ç†_

- [x] 39. éªŒè¯ï¼šç¯å¢ƒå˜é‡é…ç½®
   - ç¼–å†™é›†æˆæµ‹è¯•éªŒè¯ç¯å¢ƒå˜é‡é…ç½®ç”Ÿæ•ˆ
   - æµ‹è¯•è®¾ç½®ä¸åŒçš„ `SESSION_KEEP_COUNT` å€¼
   - éªŒè¯æ¸…ç†é€»è¾‘ä½¿ç”¨é…ç½®çš„å€¼
   - _Validates: è‡ªåŠ¨ä¼šè¯æ¸…ç†_

- [x] 40. æ›´æ–°é¡¹ç›®æ–‡æ¡£
   - æ›´æ–° `README.md` æ·»åŠ ä¼šè¯ç®¡ç†åŠŸèƒ½è¯´æ˜
   - æ›´æ–° `.claude/CLAUDE.md` åæ˜ æ¶æ„å˜æ›´
   - æ›´æ–° `CHANGELOG.md` è®°å½•ç ´åæ€§å˜æ›´å’Œæ–°åŠŸèƒ½
   - æ·»åŠ è¿ç§»æŒ‡å—ï¼ˆä»æ—§ CLI å‚æ•°åˆ°æ–° Slash Commandï¼‰
   - _Requirements: æ‰€æœ‰æ–°å¢éœ€æ±‚_

- [x] 41. éªŒè¯ï¼šæ–‡æ¡£å®Œæ•´æ€§
   - å®¡æŸ¥æ–‡æ¡£ç¡®ä¿æ‰€æœ‰æ–°åŠŸèƒ½éƒ½æœ‰è¯´æ˜
   - éªŒè¯ç ´åæ€§å˜æ›´æ¸…æ™°è®°å½•
   - æ£€æŸ¥è¿ç§»æŒ‡å—å¯æ“ä½œæ€§
   - _Validates: æ‰€æœ‰æ–°å¢éœ€æ±‚_

- [x] 42. å›å½’æµ‹è¯•
   - è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶ `npm test`
   - è¿è¡Œç»ˆç«¯äº¤äº’æµ‹è¯• `npm run test:terminal`
   - éªŒè¯æ‰€æœ‰ç°æœ‰æµ‹è¯•é€šè¿‡
   - æ£€æŸ¥æµ‹è¯•è¦†ç›–ç‡ > 80%
   - _Validates: æ‰€æœ‰æ–°å¢éœ€æ±‚å’Œç§»é™¤éœ€æ±‚_

- [ ] 43. ç«¯åˆ°ç«¯åŠŸèƒ½éªŒè¯
   - æ‰‹åŠ¨æµ‹è¯•å®Œæ•´ `/resume` å·¥ä½œæµ
   - æ‰‹åŠ¨æµ‹è¯•å®Œæ•´ `/fork` å·¥ä½œæµ
   - éªŒè¯å¯åŠ¨æ—¶è‡ªåŠ¨æ¸…ç†æ—§ä¼šè¯
   - éªŒè¯éäº¤äº’æ¨¡å¼ä¸åˆ›å»ºä¼šè¯
   - éªŒè¯æ‰€æœ‰ UI æ˜¾ç¤ºæ­£ç¡®ï¼ˆæ—¶é—´æ ¼å¼ã€ç»Ÿè®¡æ‘˜è¦ã€åˆ†å‰æ ‡è®°ï¼‰
   - _Validates: æ‰€æœ‰æ–°å¢éœ€æ±‚_

- [x] 44. æœ€ç»ˆä»£ç å®¡æŸ¥
   - å®¡æŸ¥æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶ç¡®ä¿éµå¾ªç¼–ç è§„èŒƒï¼ˆSOLID åŸåˆ™ã€æ¨¡å—åŒ–ï¼‰
   - éªŒè¯æ–‡ä»¶å¤´æ–‡æ¡£è§„èŒƒå®Œæ•´æ€§
   - æ£€æŸ¥æ—¥å¿—å’Œå¼‚å¸¸æ¶ˆæ¯ä½¿ç”¨è‹±æ–‡
   - ç¡®ä¿æ— é­”æ³•å€¼ï¼Œæ‰€æœ‰é…ç½®å‚æ•°æ”¯æŒç¯å¢ƒå˜é‡
   - _Validates: æ‰€æœ‰æ–°å¢éœ€æ±‚_
